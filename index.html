<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <title>Tick Tock</title>
    <link rel="icon" type="image/png" href="assets/images/web/favicon.png">
</head>
<body>
    <header class="header header_c">
        <!-- Banner con cambio de texto -->
        <div class="banner" id="banner">
            <span id="banner-text">ENV√çO GRATIS Y PAGO CONTRA ENTREGA</span>
            <span id="banner-icon">üá®üá¥</span>
        </div>
        <hr class="divider"> <!-- L√≠nea de separaci√≥n -->
    
        <!-- Navbar -->
        <div class="navbar">
            <!-- Logo -->
            <div class="logo">
                <a href="/">
                    <img src="assets/images/web/logo.png" alt="logo">
                </a>
            </div>
    
            <!-- Icono del men√∫ hamburguesa -->
            <div class="menu-icon">
                <button id="menu-toggle">
                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
    
            <!-- Men√∫ de navegaci√≥n -->
            <nav class="nav-menu" id="nav-menu">
                <button onclick="loadPage('home')">Inicio</button>
                <button onclick="loadPage('catalogo')">Cat√°logo</button>
                <button onclick="loadPage('contacto')">Contacto</button>
                <!-- Bot√≥n de carrito -->
                <a href="{{ route('carrito.mostrar') }}" class="cart">
                    <i class="fas fa-shopping-cart"></i>
                </a>
            </nav>
        </div>
    
        <!-- Men√∫ desplegable m√≥vil -->
        <!-- Men√∫ de navegaci√≥n m√≥vil -->
<nav class="mobile-menu" id="mobile-menu">
    <button onclick="loadPage('home')">Inicio</button>
    <button onclick="loadPage('catalogo')">Cat√°logo</button>
    <button onclick="loadPage('contacto')">Contacto</button>
</nav>
    </header>
   
    <main>
        <a  onclick="loadPage('cart')" class="fl-carrito">
            <i class="fas fa-shopping-cart"></i>
        </a>
        
        <!-- Bot√≥n flotante de WhatsApp -->
        <a href="https://wa.me/1234567890?text=Hola,%20quiero%20informaci√≥n%20acerca%20de%20sus%20productos" 
        target="_blank" class="fl-whatsapp">
         <i class="fab fa-whatsapp"></i>
     </a>
        <div id="content" class="main_c"></div>
    </main>
    <footer class="footer">
        <div class="container">
            <!-- Secci√≥n 1: Descripci√≥n corta de la tienda -->
            <div class="grid">
                <div class="logo-section">
                    <img class="logo" src="assets/images/web/logo.png" alt="logo">
                    <p class="description">Tienda en l√≠nea de productos para tu mascota. Ofrecemos lo mejor para tus amigos peludos con la comodidad de comprar desde casa.</p>
                </div>
                <div class="icon-section">
                    <i class="fas fa-paw icon-large"></i>
                </div>
            </div>
    
            <!-- Secci√≥n 2: Atenci√≥n al cliente -->
            <div class="customer-service">
                <h3>Atenci√≥n al Cliente</h3>
                <p>Cont√°ctanos para resolver tus dudas o problemas.</p>
                <ul class="contact-list">
                    <li><a href="tel:+573001234567" class="contact-link">Tel√©fono</a></li>
                    <li><a href="mailto:contacto@mitienda.com" class="contact-link">Correo</a></li>
                    <li><a href="#" class="contact-link">Direcci√≥n</a></li>
                </ul>
                <a href="https://wa.me/573107274921?text=Hola,%20estoy%20interesado%20en%20comprar%20este%20producto" class="whatsapp-button">
                    <i class="fab fa-whatsapp whatsapp-icon"></i>
                    <span>Contactar por WhatsApp</span>
                </a>
            </div>
    
            <!-- Secci√≥n 3: Pago Contra Entrega -->
            <div class="payment-section">
                <i class="fas fa-handshake handshake-icon"></i>
                <h2>Pago Contra Entrega</h2>
            </div>
    
            <!-- Secci√≥n 4: Empresas que respaldan -->
            <div class="partners">
                <h3>Empresas que Respaldan</h3>
                <p>Con el respaldo de importantes empresas colombianas que garantizan env√≠os seguros y pagos contra entrega.</p>
                <div class="partners-logos">
                    <img src="assets/images/web/envia.png" alt="Envia">
                    <img src="assets/images/web/industria.png" alt="Industria">
                </div>
            </div>
    
            <!-- Secci√≥n 5: Pol√≠ticas -->
            <div class="policies">
                <h3>Pol√≠ticas</h3>
                <ul class="policy-links">
                    <li><a onclick="loadPage('quienes_somos')">¬øQui√©nes Somos?</a></li>
                    <li><a onclick="loadPage('politica_privacidad')">Pol√≠tica de Privacidad</a></li>
                    <li><a onclick="loadPage('hometerminos_condiciones')">T√©rminos y Condiciones</a></li>
                </ul>
            </div>
    
            <!-- Secci√≥n 6: Enlaces r√°pidos y redes sociales -->
            <div class="quick-links">
                <h3>Enlaces R√°pidos</h3>
                <ul>
                    <li><a onclick="loadPage('home')">Inicio</a></li>
                    <li><a onclick="loadPage('catalogo')">Cat√°logo</a></li>
                    <li><a onclick="loadPage('contacto')">Contacto</a></li>
                </ul>
            </div>
    
            <div class="social-media">
                <h3>S√≠guenos</h3>
                <!-- Iconos de redes sociales -->
            </div>
        </div>
    </footer>
    <script>
        // JavaScript para mostrar y ocultar el men√∫ hamburguesa en dispositivos m√≥viles
        document.addEventListener("DOMContentLoaded", function () {
    const menuToggle = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");

    menuToggle.addEventListener("click", function () {
        mobileMenu.classList.toggle("show");
    });
});
// Funci√≥n para cargar contenido din√°micamente
function loadPage(page, dataProduct = null) {
    console.log("P√°gina:", page);
    if (dataProduct) console.log("Data Product:", dataProduct);

    let content = document.getElementById("content");

    // Verifica si el navegador soporta Fetch API
    if (!window.fetch) {
        console.error("Tu navegador no soporta fetch API.");
        return;
    }

    // Determina qu√© p√°gina cargar
    let pageToLoad = dataProduct === "cart" ? "cart.html" : `pages/${page}.html`;

    // Cargar el contenido del archivo HTML correspondiente
    fetch(pageToLoad)
        .then(response => {
            if (!response.ok) throw new Error("Error al cargar la p√°gina");
            return response.text();
        })
        .then(html => {
            content.innerHTML = html;
            ejecutarScripts(page, dataProduct); // üî• Ejecuta los scripts nuevamente

            // Si dataProduct es diferente de "cart" y existe, a√±adir al carrito
            if (dataProduct && dataProduct !== "cart") {
                a√±adirAlCarrito(dataProduct);
            }
        })
        .catch(error => {
            console.error("Hubo un problema al cargar la p√°gina:", error);
            content.innerHTML = "<h2>Error 404</h2><p>P√°gina no encontrada.</p>";
        });
}

// Funci√≥n para a√±adir un producto al carrito
function a√±adirAlCarrito(productId) {
    console.log(`üõí A√±adiendo producto al carrito: ${productId}`);

    // Obtener el carrito desde localStorage o inicializar uno vac√≠o
    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

    // Buscar si el producto ya est√° en el carrito
    let productoExistente = carrito.find(p => p.id === productId);

    if (productoExistente) {
        productoExistente.cantidad += 1;
        mostrarMensaje("‚úÖ Producto actualizado en el carrito");
    } else {
        carrito.push({ id: productId, cantidad: 1 });
        mostrarMensaje("üõçÔ∏è Producto a√±adido al carrito");
    }

    // Guardar en localStorage
    localStorage.setItem("carrito", JSON.stringify(carrito));
}

// Funci√≥n para mostrar el mensaje emergente con FontAwesome
function mostrarMensaje(mensaje) {
    let msgBox = document.createElement("div");
    msgBox.innerHTML = `<i class="fas fa-check-circle"></i> ${mensaje}`;
    msgBox.classList.add("mensaje-carrito");
    document.body.appendChild(msgBox);

    // Eliminar el mensaje despu√©s de 2 segundos
    setTimeout(() => {
        msgBox.remove();
    }, 2000);
}
// üî• Funci√≥n para volver a ejecutar los scripts despu√©s de cargar una p√°gina
function ejecutarScripts(page, dataProduct = null) {
    // Importar nuevamente los m√≥dulos

    banner();
    //funciones para cuando home este activo o cargado: 
    // Si la p√°gina es "home", ejecuta slider() y cuttext()
    if (page === "home") {
        slider();
        cargar();
    }else if(page === "catalogo"){
        cargar();
    }else if(page === "producto"){
        cargar_producto(dataProduct);
    }else if(page === "cart"){
        cart();
    }
    faq();
    cuttext();
}
    </script>
    
    
    <!-- Espaciador para evitar que el contenido principal quede oculto debajo del header -->
    <div class="pt-24"></div>

    
    <script type="module" src="script/index.js"></script>
</body>
</html>